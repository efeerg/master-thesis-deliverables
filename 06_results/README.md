# Experiment Results Documentation

This document explains the format and structure of the output files generated by the experiment script. Each experiment produces a JSON file containing various performance metrics for the selected model and forecasting method.

## Output File Naming Convention

The JSON output files are named based on the model type and the specific configuration used in the experiment. The naming convention differs slightly between models to accommodate their unique parameters.

### LSTM Model

For experiments using the LSTM model, the output file name follows this pattern:

```
LSTM_{forecasting_type}_seq{sequence_length}_n{n}_ep{epochs}_bs{batch_size}_lr{learning_rate}_hu{hidden_units}.json
```

- `LSTM`: Indicates the model used is LSTM.
- `{forecasting_type}`: Specifies the forecasting method (`single-step-ahead`, `multi-step-ahead-iterative`, `multi-step-ahead-direct`).
- `seq{sequence_length}`: The length of the input sequence used for training.
- `n{n}`: The number of months used for training/testing split.
- `ep{epochs}`: Number of training epochs.
- `bs{batch_size}`: Batch size used during training.
- `lr{learning_rate}`: Learning rate used by the optimizer.
- `hu{hidden_units}`: Number of hidden units in the LSTM model.

**Example**:
```
LSTM_multi-step-ahead-iterative_seq3_n9_ep100_bs32_lr0.001_hu64.json
```

### Random Forest Model

For experiments using the Random Forest model, the output file name follows this pattern:

```
RandomForest_{forecasting_type}_seq{sequence_length}_n{n}_ne{n_estimators}_md{max_depth}_rs{random_state}.json
```

- `RandomForest`: Indicates the model used is Random Forest.
- `{forecasting_type}`: Specifies the forecasting method (`single-step-ahead`, `multi-step-ahead-iterative`, `multi-step-ahead-direct`).
- `seq{sequence_length}`: The length of the input sequence used for training.
- `n{n}`: The number of months used for training/testing split.
- `ne{n_estimators}`: Number of trees in the Random Forest.
- `md{max_depth}`: Maximum depth of the trees.
- `rs{random_state}`: Random state used for reproducibility.

**Example**:
```
RandomForest_multi-step-ahead-iterative_seq3_n9_ne100_md10_rs42.json
```

## JSON Output Structure

Each output JSON file contains the results of the experiment, including various performance metrics calculated for each forecasted time step. The structure of the JSON is as follows:

```json
{
    "predictions": [[...], [...], ...],
    "mse": [...],
    "mae": [...],
    "rmse": [...],
    "r2": [...],
    "accuracy": [...],
    "precision": [...],
    "recall": [...],
    "f1": [...],
    "confusion_matrices": [...]
}
```

### Key Elements:

- **predictions**: A list of lists containing the predicted values for each time step.
- **mse**: Mean Squared Error values for each time step.
- **mae**: Mean Absolute Error values for each time step.
- **rmse**: Root Mean Squared Error values for each time step.
- **r2**: R-squared values for each time step.
- **accuracy**: Classification accuracy for each time step.
- **precision**: Precision scores for each time step.
- **recall**: Recall scores for each time step.
- **f1**: F1 scores for each time step.
- **confusion_matrices**: A list of confusion matrices for each time step, capturing the performance of the classifier.

### Example JSON Snippet:

```json
{
    "predictions": [[1, 2, 3], [2, 3, 4], ...],
    "mse": [0.01, 0.02, ...],
    "mae": [0.1, 0.15, ...],
    "rmse": [0.1, 0.12, ...],
    "r2": [0.95, 0.93, ...],
    "accuracy": [0.9, 0.85, ...],
    "precision": [0.91, 0.87, ...],
    "recall": [0.89, 0.84, ...],
    "f1": [0.90, 0.85, ...],
    "confusion_matrices": [[[10, 1], [2, 15]], [[9, 2], [3, 14]], ...]
}
```

### Notes:

- **Metrics**: All metrics are calculated for each predicted time step and stored in lists.
- **JSON Serialization**: Before saving, all `numpy` arrays are converted to lists to ensure compatibility with JSON format.

## Usage

To run an experiment and generate the output JSON file, use the following command:

```bash
python main.py --config path/to/config.json
```

Ensure the configuration file (`config.json`) specifies the desired model, forecasting method, and parameters.

---

This `README.md` should help users understand the structure and contents of the output files, enabling them to effectively manage and analyze their experiment results.